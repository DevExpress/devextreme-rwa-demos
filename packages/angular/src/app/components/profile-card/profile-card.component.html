<div class="panel">
  <div class="title-text panel-header">
    {{title}}
  </div>
  <div class="form-container">
    <ng-content select="[top-item]"></ng-content>
    <dx-form [formData]="cardData"
             labelMode="outside"
             [showColonAfterLabel]="true"
             labelLocation="top"
    >
      <dxi-item itemType="group" [colCount]="(screen.xSmallScreenChanged | async) ? 2 : colCount">
        <ng-container *ngFor="let item of items">
          <dxi-item [dataField]="item.dataField"
                    [editorType]="item.editorType"
                    [editorOptions]="extendEditorOptions | apply: item.editorOptions"
                    [colSpan]="item.colSpan">
            <dxo-label *ngIf="item.label" [text]="item.label"></dxo-label>
            <ng-container *ngIf="item.dataField === 'status'" >
              <div *dxTemplate>
                <dx-select-box
                  label="Status"
                  [(value)]="cardData.status"
                  [items]="statusList"
                  stylingMode="outlined"
                  labelMode="hidden"
                  width="100%"
                  fieldTemplate="field"
                >
                  <div *dxTemplate="let data of 'field'" class="status-editor-field">
                    <contact-status class="status-indicator" [showText]="false" [value]="data"></contact-status>
                    <dx-text-box
                      class="status-{{data | lowercase}}"
                      [hoverStateEnabled]="false"
                      [inputAttr]="{class: 'status-input status-editor-input'}"
                      [readOnly]="true"
                      [value]="data">
                    </dx-text-box>
                  </div>
                  <div *dxTemplate="let data of 'item'">
                    <contact-status [value]="data"></contact-status>
                  </div>
                </dx-select-box>
              </div>
            </ng-container>

            <ng-container *ngIf="item.dataField === 'supervisor'" >
              <pictured-item-select-box *dxTemplate
                                        [label]="item.label"
                                        [value]="cardData[item.dataField]"
                                        [items]="item.itemsList"
              ></pictured-item-select-box>
            </ng-container>
          </dxi-item>
        </ng-container>
      </dxi-item>
    </dx-form>
  </div>
</div>
