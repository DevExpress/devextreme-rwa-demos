<form-popup
  titleText="Change Password"
  [visible]="visible"
  [width]="360"
  [wrapperAttr]="{class: 'change-profile-password-popup'}"
  (hide)="visible = false"
  (save)="saveNewPassword()"
>
  <dx-form labelMode="outside"
           [showColonAfterLabel]="true"
           labelLocation="top">
    <ng-container *ngFor="let field of fields; let index = index">
      <dxi-item *ngIf="index === 1">
        <div class="h-separator"></div>
      </dxi-item>

      <dxi-item>
        <dxo-label [text]="field.label"></dxo-label>
        <dx-text-box [(value)]="formData[field.name]"
                     stylingMode="outlined"
                     valueChangeEvent="keyup input change"
                     [placeholder]="field.label"
                     mode="password"
        >
          <dx-validator
            [validationRules]="concat | apply: [{type: 'required', message: 'Password is required'}]: field.validators"></dx-validator>
        </dx-text-box>
      </dxi-item>
    </ng-container>
  </dx-form>
</form-popup>
