<div class="view-wrapper">
  <dx-toolbar>
    <dxi-item location="before">
      <dx-button icon="arrowleft"></dx-button>
    </dxi-item>
    <dxi-item location="before">
      <div class="toolbar-header">{{ (contact$ | async)?.name }}</div>
    </dxi-item>
    <dxi-item location="after" locateInMenu="auto">
      <dx-button
        text="Terminate"
        type="default"
        stylingMode="contained"
      ></dx-button>
    </dxi-item>
    <dxi-item location="after" locateInMenu="auto">
      <dx-drop-down-button
        text="Action"
        stylingMode="text"
        [width]="120"
        [items]="['Assign to Me', 'Archive']"
      ></dx-drop-down-button>
    </dxi-item>
    <dxi-item location="after" locateInMenu="auto">
      <div class="separator"></div>
    </dxi-item>
    <dxi-item
      location="after"
      locateInMenu="auto"
      widget="dxButton"
      showText="inMenu"
      [options]="{
        text: 'Copy',
        icon: 'copy'
      }"
    ></dxi-item>
    <dxi-item
      location="after"
      locateInMenu="auto"
      widget="dxButton"
      showText="inMenu"
      [options]="{
        text: 'Refresh',
        icon: 'Refresh',
        onClick: refresh
      }"
    ></dxi-item>
  </dx-toolbar>

  <div class="panels">
    <div class="left">
      <contact-form [contact]="contact$"></contact-form>
    </div>

    <div class="right">
      <contact-cards
        [contactName]="(contact$ | async)?.name"
        [tasks]="(contact$ | async)?.tasks"
        [activities]="(contact$ | async)?.activities"
        [activeOpportunities]="activeOpportunities"
        [closedOpportunities]="closedOpportunities"
        [notes]="contactNotes"
        [messages]="contactMessages"
      ></contact-cards>
    </div>
  </div>
</div>
